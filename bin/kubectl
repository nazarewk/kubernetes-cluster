#!/bin/sh
# Author: Krzysztof Nazarewski <nazarewk@gmail.com>
# Purpose: kubectl wrapper which uses generated  configurations

[ "${0%/*}" == "kubectl" ] \
 && . $(dirname $(which kubectl)) \
 || . ${0%/*}/vars

if [ -f artifacts/kubectl ]; then
  chmod +x "$PDIR/artifacts/kubectl"
  kubectl="$PDIR/artifacts/kubectl"
else
  kubectl=/usr/bin/kubectl
fi

$kubectl $@